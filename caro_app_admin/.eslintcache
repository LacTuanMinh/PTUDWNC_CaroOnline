[{"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\index.js":"1","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\App.js":"2","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Footer\\index.js":"3","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Home\\index.js":"4","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Profile\\index.js":"5","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\SignIn\\index.js":"6","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Navbar\\index.js":"7","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Dialogs\\ChangePasswordDialog\\index.js":"8","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Dialogs\\ImageUploadDialog\\index.js":"9","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Profile\\index.js":"10","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Navbar\\index.js":"11","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Home\\index.js":"12","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\SignIn\\index.js":"13","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Footer\\index.js":"14","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\ChangePasswordDialog\\index.js":"15","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\ImageUploadDialog\\index.js":"16","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\utils\\helper.js":"17","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\SnackBar\\snackbar.js":"18","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\UserManagement\\index.js":"19","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\UserDetail\\index.js":"20","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\PlayedGamesDialog\\index.js":"21","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\index.js":"22","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\board.js":"23","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\gameServices.js":"24","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\square.js":"25","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\GameManagement\\index.js":"26"},{"size":175,"mtime":1607428977473,"results":"27","hashOfConfig":"28"},{"size":1826,"mtime":1609649070170,"results":"29","hashOfConfig":"28"},{"size":1211,"mtime":1607435342486,"results":"30","hashOfConfig":"28"},{"size":541,"mtime":1607516492314,"results":"31","hashOfConfig":"28"},{"size":9232,"mtime":1607518544218,"results":"32","hashOfConfig":"28"},{"size":4290,"mtime":1607518260457,"results":"33","hashOfConfig":"28"},{"size":2928,"mtime":1607516492338,"results":"34","hashOfConfig":"28"},{"size":5517,"mtime":1607240503905,"results":"35","hashOfConfig":"28"},{"size":1822,"mtime":1607516492313,"results":"36","hashOfConfig":"28"},{"size":10974,"mtime":1609515155021,"results":"37","hashOfConfig":"28"},{"size":4213,"mtime":1609644470968,"results":"38","hashOfConfig":"28"},{"size":2478,"mtime":1609644382281,"results":"39","hashOfConfig":"28"},{"size":5197,"mtime":1609644607096,"results":"40","hashOfConfig":"28"},{"size":1414,"mtime":1609559236150,"results":"41","hashOfConfig":"28"},{"size":5997,"mtime":1609580853243,"results":"42","hashOfConfig":"28"},{"size":1917,"mtime":1609337227125,"results":"43","hashOfConfig":"28"},{"size":1136,"mtime":1609645813638,"results":"44","hashOfConfig":"28"},{"size":1522,"mtime":1609644844619,"results":"45","hashOfConfig":"28"},{"size":8262,"mtime":1609649518693,"results":"46","hashOfConfig":"28"},{"size":7367,"mtime":1609683807554,"results":"47","hashOfConfig":"28"},{"size":3903,"mtime":1609648315350,"results":"48","hashOfConfig":"28"},{"size":8129,"mtime":1609673006505,"results":"49","hashOfConfig":"28"},{"size":892,"mtime":1609651281706,"results":"50","hashOfConfig":"28"},{"size":7437,"mtime":1609567248413,"results":"51","hashOfConfig":"28"},{"size":322,"mtime":1609567165565,"results":"52","hashOfConfig":"28"},{"size":7464,"mtime":1609651311430,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"pyl54a",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"56"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"56"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"56"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"56"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"56"},"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\index.js",[],["113","114"],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\App.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Footer\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Home\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Profile\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\SignIn\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Navbar\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Dialogs\\ChangePasswordDialog\\index.js",["115","116","117"],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\Components\\Dialogs\\ImageUploadDialog\\index.js",["118"],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Profile\\index.js",["119","120"],"import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport ChangePasswordDialog from '../Dialogs/ChangePasswordDialog';\r\nimport ImageUploadDialog from '../Dialogs/ImageUploadDialog';\r\nimport defaultAvatar from '../../images/defaultAvatar.jpg';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport SimpleSnackbar from '../SnackBar/snackbar';\r\nimport config from '../../constants/config.json';\r\nimport { isBlankString, isEmailPattern } from '../../utils/helper';\r\n\r\nconst API_URL = config.API_URL_TEST;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '25%',\r\n  },\r\n  cardHeader: {\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"black\"//theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '75%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  container: {\r\n    display: 'inline-block',\r\n    width: '100%'\r\n  },\r\n  floatRight: {\r\n    float: \"right\",\r\n    width: '60%'\r\n  },\r\n  floatLeft: {\r\n    float: \"left\",\r\n    width: '40%'\r\n  },\r\n  paperLikeShadow: {\r\n    boxShadow: '0 4px 8px 5px rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\r\n  },\r\n  hidden: {\r\n    display: 'none'\r\n  }\r\n}));\r\n\r\nexport default function Profile() {\r\n  const classes = useStyles();\r\n  const userID = localStorage.getItem('userID');\r\n  const token = localStorage.getItem('jwtToken');\r\n  const history = useHistory();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [validName, setValidName] = useState(true);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [validEmail, setValidEmail] = useState(true);\r\n  const [dateOfBirth, setDateOfBirth] = useState((new Date()).toISOString());\r\n  const [validDOB, setValidDOB] = useState(true);\r\n  const [avatar, setAvatar] = useState({});\r\n  const [info, setInfo] = useState({});\r\n  const [contents, setContents] = useState([]);\r\n  const [showSnackbar, setShowSnackBar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function ComponentWillMount() {\r\n      const res = await fetch(`${API_URL}/users/profile/${userID}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        const result = await res.json();\r\n        setInfo(result.userInfo);\r\n        setName(result.userInfo.Name);\r\n        setEmail(result.userInfo.Email);\r\n        setAvatar(result.userInfo.Avatar);\r\n        setDateOfBirth(result.userInfo.DateOfBirth);\r\n      } else {\r\n        history.push('/signin');\r\n        return;\r\n      }\r\n\r\n    }\r\n    ComponentWillMount();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function retrieveAvatar() {\r\n      const res = await fetch(`${API_URL}/users/avatar/${userID}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          ContentType: 'image/jpeg',\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        const result = await res.blob();\r\n        console.log(result);\r\n        setAvatar(URL.createObjectURL(result));\r\n      }\r\n    }\r\n    retrieveAvatar();\r\n  }, [setAvatar]);\r\n\r\n  const handleNameChange = (name) => {\r\n    setName(name);\r\n    if (isBlankString(name)) {\r\n      setContents(contents => [...contents.filter(content => content.id !== 1), { id: 1, msg: \"Name field can't be empty!!!\" }]);\r\n      setValidName(false);\r\n    } else {\r\n      setContents(contents.filter(content => content.id !== 1));\r\n      setValidName(true);\r\n    }\r\n  }\r\n\r\n  const handleEmailChange = (email) => {\r\n    setEmail(email);\r\n    if (isBlankString(email)) {\r\n      setContents(contents => [...contents.filter(content => content.id !== 2), { id: 2, msg: \"Email field can't be empty!!!\" }]);\r\n      setValidEmail(false);\r\n    }\r\n    else if (!isEmailPattern(email)) {// === false\r\n      setContents(contents => [...contents.filter(content => content.id !== 2), { id: 2, msg: \"Email field doesn't match the email format!!!\" }]);\r\n      setValidEmail(false);\r\n    }\r\n    else {\r\n      setContents(contents.filter(content => content.id !== 2));\r\n      setValidEmail(true);\r\n    }\r\n  }\r\n\r\n  const handleDateChange = (date) => {\r\n    setDateOfBirth(date.toISOString());\r\n    const now = new Date().toISOString()\r\n    if (dateOfBirth < now) {\r\n      setContents(contents.filter(content => content.id !== 3));\r\n      setValidDOB(true);\r\n    }\r\n    else {\r\n      setContents(contents => [...contents.filter(content => content.id !== 3), { id: 3, msg: \"Invalid date!!!\" }]);\r\n      setValidDOB(false);\r\n    }\r\n  }\r\n\r\n  const handleSaveChange = async () => {\r\n    if (validDOB && validEmail && validName) {\r\n\r\n      const data = {\r\n        Name: name,\r\n        Email: email,\r\n        DateOfBirth: dateOfBirth\r\n      }\r\n\r\n      const res = await fetch(`${API_URL}/users/profile/updateinfo/${userID}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      // const result = await res.json();\r\n\r\n      if (res.status === 200) {\r\n\r\n        const infoCopy = JSON.parse(JSON.stringify(info));\r\n\r\n        infoCopy.Name = data.Name;\r\n        infoCopy.Email = data.Email;\r\n        infoCopy.DateOfBirth = data.DateOfBirth;\r\n        setInfo(infoCopy);\r\n        setShowSnackBar(true);\r\n\r\n      } else {\r\n        // alert(\"Some error when updating!\")\r\n      }\r\n\r\n    } else {\r\n      setShowSnackBar(true);\r\n    }\r\n  }\r\n\r\n  const handleResetInfo = () => {\r\n    setName(info.Name);\r\n    setEmail(info.Email);\r\n    setDateOfBirth(info.DateOfBirth);\r\n    setValidEmail(true);\r\n    setValidName(true);\r\n    setValidDOB(true);\r\n    setContents([]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SimpleSnackbar open={showSnackbar} setOpen={(isOpen) => setShowSnackBar(isOpen)} contents={contents} />\r\n\r\n      <Container component=\"main\" maxWidth=\"lg\">\r\n        <Grid container spacing={2}>\r\n\r\n          <Grid item xs={12} md={5}>\r\n            <div className={classes.paper} style={{ padding: '20px' }}>\r\n              <img height={200} width={200} style={{ borderRadius: '8px' }} className={classes.paperLikeShadow}\r\n                src={avatar ? avatar : defaultAvatar} alt=\"User avatar\"\r\n              />\r\n              <ImageUploadDialog setAvatar={setAvatar} setShowSnackBar={setShowSnackBar} />\r\n            </div>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} md={7}>\r\n            <div className={classes.paper}>\r\n              <Typography component=\"h2\" variant=\"h5\">\r\n                YOUR PROFILE\r\n                <IconButton onClick={handleResetInfo} title=\"Reset information\" color=\"primary\" aria-label=\"add an alarm\" style={{ fontSize: 'large' }} >\r\n                  <ReplayIcon />\r\n                </IconButton>\r\n              </Typography>\r\n              <div className={classes.form} >\r\n\r\n                <div className={classes.container}>\r\n                  <Typography className={classes.floatLeft} align=\"left\" component=\"h2\"><b> Name:</b> </Typography>\r\n                  {validName ?\r\n                    <></>\r\n                    :\r\n                    <Typography className={classes.floatRight} align=\"right\" style={{ color: \"red\" }}>Invalid</Typography>\r\n                  }\r\n                </div>\r\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth autoFocus\r\n                  placeholder=\"Username\" value={name}\r\n                  onChange={(event) => { handleNameChange(event.target.value); }}\r\n                />\r\n\r\n                <div className={classes.container}>\r\n                  <Typography className={classes.floatLeft} align=\"left\" component=\"h2\"> <b>Email:</b>  </Typography>\r\n                  {validEmail ?\r\n                    <></>\r\n                    :\r\n                    <Typography className={classes.floatRight} align=\"right\" style={{ color: \"red\" }}>Invalid</Typography>\r\n                  }\r\n                </div>\r\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\r\n                  id=\"email\" name=\"email\" placeholder=\"Email\" value={email}\r\n                  onChange={(event) => { handleEmailChange(event.target.value); }}\r\n                />\r\n\r\n                <div className={classes.container}>\r\n                  <Typography align=\"left\" component=\"h2\" className={classes.floatLeft}>\r\n                    <b>Date of Birth:</b>\r\n                  </Typography>\r\n                  {validDOB ?\r\n                    <></>\r\n                    :\r\n                    <Typography className={classes.floatRight} align=\"right\" style={{ color: \"red\" }}>Invalid</Typography>\r\n                  }\r\n                </div>\r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils} >\r\n                  <KeyboardDatePicker\r\n                    // disableToolbar\r\n                    variant=\"inline\"\r\n                    format=\"dd/MM/yyyy\"\r\n                    margin=\"normal\"\r\n                    id=\"date-picker-inline\"\r\n                    fullWidth value={dateOfBirth}\r\n                    onChange={handleDateChange}\r\n                    KeyboardButtonProps={{\r\n                      'aria-label': 'change date',\r\n                    }}\r\n                    placeholder=\"Date of Birth\"\r\n                  />\r\n                </MuiPickersUtilsProvider>\r\n                <Button type=\"submit\" fullWidth variant=\"outlined\" color=\"primary\" onClick={handleSaveChange}\r\n                  className={classes.submit} startIcon={<SaveIcon />}\r\n                >\r\n                  Save Change\r\n                </Button>\r\n                <Typography align=\"left\" component=\"h2\" style={{ marginTop: 10, marginBottom: 12, fontWeight: 'bold' }}> Passowrd: </Typography>\r\n                <ChangePasswordDialog />\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Navbar\\index.js",["121"],"import React, { useEffect } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport logo from '../../images/caro.ico';\r\nimport config from '../../constants/config.json';\r\nconst API_URL = config.API_URL_TEST;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  navLink: {\r\n    textDecoration: 'none',\r\n    paddingLeft: '5px'\r\n  },\r\n  button: {\r\n    color: 'white',\r\n    background: 'purple'\r\n  },\r\n  logo: {\r\n    width: '25px',\r\n    height: '25px',\r\n    marginRight: '10px'\r\n  }\r\n}));\r\n\r\nfunction Navbar({ isLoggedIn, setIsLoggedIn }) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const token = localStorage.getItem('jwtToken');\r\n\r\n  useEffect(() => {\r\n    function storageChange(event) {\r\n      if (event.key === 'jwtToken') {\r\n        if (event.newValue === null) {\r\n          setIsLoggedIn(false);\r\n          history.push('/signin');\r\n          return;\r\n\r\n        } else {\r\n          setIsLoggedIn(true);\r\n          history.push('/');\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    window.addEventListener('storage', storageChange);\r\n    return () => {\r\n      window.removeEventListener('storage', storageChange);\r\n    }\r\n  }, []);\r\n\r\n  const logoutButtonClicked = async () => {\r\n    const data = {\r\n      userID: localStorage.getItem('userID')\r\n    }\r\n    const res = await fetch(`${API_URL}/users/signout`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n    if (res.status === 400) {\r\n      const result = await res.json();\r\n      alert(result.mesg);\r\n    }\r\n    else { // other status: 200, 401, ...\r\n      localStorage.removeItem('jwtToken');\r\n      localStorage.clear();\r\n      setIsLoggedIn(false);\r\n      history.push('/signin');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"static\" color=\"primary\">\r\n        <Toolbar>\r\n          <NavLink to=\"/\" style={{ display: 'inline-block', textDecoration: 'none', color: \"white\" }}>\r\n            <img className={classes.logo} src={logo} alt=\"This is my website logo\"></img>\r\n          </NavLink>\r\n\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap style={{ flex: 1 }}>\r\n            <NavLink to=\"/\" style={{ display: 'inline-block', textDecoration: 'none', color: \"white\" }}>\r\n              Caro Tournament\r\n            </NavLink>\r\n          </Typography>\r\n\r\n          <div>\r\n            <NavLink to='/' className={classes.navLink}>\r\n              <Button variant=\"contained\" color=\"secondary\">\r\n                <Typography style={{ fontWeight: 'bold' }}>Home</Typography>\r\n              </Button>\r\n            </NavLink>\r\n            {isLoggedIn ?\r\n              <React.Fragment>\r\n                <NavLink to='/profile' className={classes.navLink}>\r\n                  <Button variant=\"contained\" color=\"secondary\">\r\n                    <Typography style={{ fontWeight: 'bold' }}>Profile</Typography>\r\n                  </Button>\r\n                </NavLink>\r\n                <NavLink to='/' className={classes.navLink}>\r\n                  <Button variant=\"contained\" color=\"secondary\" onClick={logoutButtonClicked}>\r\n                    <Typography style={{ fontWeight: 'bold' }}>Sign Out</Typography>\r\n                  </Button>\r\n                </NavLink>\r\n              </React.Fragment> :\r\n              <React.Fragment>\r\n                <NavLink to='/signIn' className={classes.navLink}>\r\n                  <Button variant=\"contained\" color=\"secondary\">\r\n                    <Typography style={{ fontWeight: 'bold' }}>Sign In</Typography>\r\n                  </Button>\r\n                </NavLink>\r\n              </React.Fragment>}\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Home\\index.js",["122"],"import React, { useEffect } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { authen } from '../../utils/helper';\r\nimport background from '../../images/background.jpg';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nfunction Home() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function Authen() {\r\n      const status = await authen();\r\n      if (status === 401) {\r\n        history.push('/signIn');\r\n      }\r\n    }\r\n    Authen();\r\n  }, []);\r\n\r\n  const container = {\r\n    position: 'relative',\r\n    marginBottom: '150px'\r\n  }\r\n\r\n  const boxShadow = {\r\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)'\r\n  }\r\n\r\n  const homeBackground = {\r\n    marginTop: '-23px',\r\n    borderRadius: '0 0 0 200%',\r\n    borderTopWidth: '0',\r\n    width: '100%',\r\n    height: '85%',\r\n    boxShadow: boxShadow.boxShadow\r\n  }\r\n\r\n  const managementContent = {\r\n    fontSize: '1.5vw',\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    display: 'table-cell',\r\n    verticalAlign: 'middle',\r\n    textAlign: 'left'\r\n  }\r\n\r\n  return (\r\n    <div style={container}>\r\n      <img src={background} style={homeBackground} alt=\"Home background\" />\r\n      <Typography style={{\r\n        position: 'absolute', left: '35%', top: '40%', fontSize: '5vw', color: 'white', fontWeight: 'bolder',\r\n        boxShadow: boxShadow.boxShadow\r\n      }}\r\n      >\r\n        Home page for our Admin\r\n      </Typography>\r\n\r\n      <Link to='/users'>\r\n        <div style={{\r\n          position: 'absolute', left: 0, top: '70%', width: '18vw', minHeight: '3.5vw', paddingLeft: '20px',\r\n          borderRadius: '0 5px 5px 0', backgroundColor: '#f6a00f', display: 'table', boxShadow: boxShadow.boxShadow\r\n        }}>\r\n          <Typography style={managementContent}>User management <ArrowForwardIcon style={{ verticalAlign: 'middle' }} /></Typography>\r\n        </div>\r\n      </Link>\r\n      <Link to='/games'>\r\n        <div style={{\r\n          position: 'absolute', left: 0, top: '85%', width: '20vw', minHeight: '3.5vw', paddingLeft: '20px',\r\n          borderRadius: '0 5px 5px 0', backgroundColor: '#2f8fe6', display: 'table', boxShadow: boxShadow.boxShadow\r\n        }}>\r\n          <Typography style={managementContent}>Game management <ArrowForwardIcon style={{ verticalAlign: 'middle' }} /></Typography>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\SignIn\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Footer\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\ChangePasswordDialog\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\ImageUploadDialog\\index.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\utils\\helper.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\SnackBar\\snackbar.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\UserManagement\\index.js",["123","124","125","126"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport { InformationSnackbar } from '../SnackBar/snackbar';\r\nimport { authen } from '../../utils/helper';\r\nimport config from '../../constants/config.json';\r\nconst API_URL = config.API_URL_TEST;\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tcontainer: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tpaddingBottom: theme.spacing(4),\r\n\t},\r\n\ttableHeader: {\r\n\t\ttextAlign: 'center',\r\n\t\tfontWeight: 'bolder',\r\n\t\tfontSize: '18px'\r\n\t},\r\n\tshadow: {\r\n\t\tboxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\r\n\t},\r\n\trow: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center'\r\n\t},\r\n\thover: {\r\n\t\tcursor: 'pointer',\r\n\t\t\"&:hover\": {\r\n\t\t\tbackgroundColor: \"#f1f3f4\"\r\n\t\t}\r\n\t},\r\n\ttableBody: {\r\n\t\ttextAlign: 'center',\r\n\t\tfontSize: '15px',\r\n\t\tpadding: '8px'\r\n\t},\r\n}));\r\n\r\nexport default function UserManagement() {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst token = window.localStorage.getItem('jwtToken');\r\n\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [displayedUsers, setDisplayedUsers] = useState([]);\r\n\tconst [nameInput, setNameInput] = useState(\"\");\r\n\tconst [emailInput, setEmailInput] = useState(\"\");\r\n\tconst [showSnackbar, setShowSnackBar] = useState(false);\r\n\tconst [content, setContent] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function retrieveUsers() {\r\n\t\t\tconst res = await fetch(`${API_URL}/management/users`, {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst result = await res.json();\r\n\t\t\t\tsetUsers(result.users);\r\n\t\t\t\tsetDisplayedUsers(result.users);\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function Authen() {\r\n\t\t\tconst status = await authen();\r\n\t\t\tif (status === 401) {\r\n\t\t\t\thistory.push('/signIn');\r\n\t\t\t} else {\r\n\t\t\t\tretrieveUsers();\r\n\t\t\t}\r\n\t\t}\r\n\t\tAuthen();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (nameInput === \"\") {\r\n\t\t\tsetDisplayedUsers(users.slice().filter(user => user.Email.toLowerCase().includes(emailInput)));\r\n\t\t} else if (emailInput === \"\") {\r\n\t\t\tsetDisplayedUsers(users.slice().filter(user => user.Name.toLowerCase().includes(nameInput)));\r\n\t\t} else {\r\n\t\t\tsetDisplayedUsers(users.slice().filter(user => user.Name.toLowerCase().includes(nameInput) && user.Email.toLowerCase().includes(emailInput)));\r\n\t\t}\r\n\t}, [nameInput, emailInput]);\r\n\r\n\tconst handleToUserDetail = (userID) => {\r\n\t\tconst userDetail = window.open(`/users/${userID}`, \"_blank\");\r\n\t\tuserDetail.focus();\r\n\t}\r\n\tconst handleBanUser = async (event, userID) => {\r\n\t\tevent.stopPropagation(); // prevent click this button lead to user detail page\r\n\r\n\t\tconst res = await fetch(`${API_URL}/management/ban/${userID}`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst usersCopy = JSON.parse(JSON.stringify(users));\r\n\t\t\tsetUsers(usersCopy =>\r\n\t\t\t\tusersCopy.map((user, index) => {\r\n\t\t\t\t\tif (user.ID === userID) {\r\n\t\t\t\t\t\tuser.Status = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\t\t\tconst result = await res.json();\r\n\t\t\tsetContent(result.msg);\r\n\t\t\tsetShowSnackBar(true);\r\n\t\t}\r\n\t}\r\n\tconst handleUnbanUser = async (event, userID) => {\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tconst res = await fetch(`${API_URL}/management/unban/${userID}`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst usersCopy = JSON.parse(JSON.stringify(users));\r\n\t\t\tsetUsers(usersCopy =>\r\n\t\t\t\tusersCopy.map((user, index) => {\r\n\t\t\t\t\tif (user.ID === userID) {\r\n\t\t\t\t\t\tuser.Status = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst result = await res.json();\r\n\t\t\tsetContent(result.msg);\r\n\t\t\tsetShowSnackBar(true);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<InformationSnackbar open={showSnackbar} setOpen={(isOpen) => setShowSnackBar(isOpen)} content={content} />\r\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\r\n\t\t\t\t<Grid item xs={12} md={12} sm={12}>\r\n\t\t\t\t\t<Paper className={classes.shadow}>\r\n\t\t\t\t\t\t<div style={{ justifyContent: 'space-between', padding: '10px' }} className={classes.row} >\r\n\r\n\t\t\t\t\t\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom style={{ padding: '10px', fontWeight: 'bold', textAlign: 'left' }}>\r\n\t\t\t\t\t\t\t\tUsers on your system\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<div className={classes.row} style={{ width: '60%' }}>\r\n\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '-10px', marginRight: '20px' }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search by name...\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'search' }}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => { setNameInput(e.target.value.toLowerCase()) }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '-10px' }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search by email...\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'search' }}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => { setEmailInput(e.target.value.toLowerCase()) }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<TableContainer style={{ maxHeight: '70vh' }}>\r\n\t\t\t\t\t\t\t<Table stickyHeader size=\"small\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow >\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '15%' }}>ID</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '20%' }}>Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '20%' }}>Email</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '20%' }}>Username</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '10%' }}>Status</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableHeader} style={{ width: '10%' }}></TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tdisplayedUsers.length === 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell style={{ textAlign: 'center' }} colSpan={6}>User not found</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t(displayedUsers.map((user, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst status = user.Status === -1 ? \"Inactivated\" : (user.Status === 2 ? \"Banned\" : \"Activated\");\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={index} title={\"Click to view user detail\"} onClick={() => handleToUserDetail(user.ID)} className={classes.hover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{user.ID}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{user.Name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{user.Email}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{user.Username}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{status}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.tableBody} >{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.Status !== -1 && user.Status !== 2 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={(e) => handleBanUser(e, user.ID)} title={\"Click to ban this user\"}>Ban</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={(e) => handleUnbanUser(e, user.ID)} title={\"Click to unban this user\"}> Unban</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</React.Fragment>\r\n\t);\r\n}","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\UserDetail\\index.js",["127","128","129"],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\Dialogs\\PlayedGamesDialog\\index.js",["130","131","132"],"import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from 'react-router-dom'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport config from '../../../constants/config.json';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport HistoryIcon from '@material-ui/icons/History';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nconst API_URL = config.API_URL_TEST;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n\tcontainer: {\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '100%'\r\n\t},\r\n\tfloatRight: {\r\n\t\tfloat: \"right\",\r\n\t\twidth: '60%'\r\n\t},\r\n\tfloatLeft: {\r\n\t\tfloat: \"left\",\r\n\t\twidth: '40%'\r\n\t},\r\n\tpaperLikeShadow: {\r\n\t\tboxShadow: '0 4px 8px 5px rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\r\n\t},\r\n\thidden: {\r\n\t\tdisplay: 'none'\r\n\t}\r\n}));\r\n\r\nexport default function PlayedGamesDialog({ userID }) {\r\n\tconst classes = useStyles();\r\n\tconst token = window.localStorage.getItem('jwtToken');\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [dense, setDense] = useState(false);\r\n\tconst [gameList, setGameList] = useState([]);\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function retrieveGameList() {\r\n\r\n\t\t\tconst res = await fetch(`${API_URL}/management/playedGames/${userID}`, {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst result = await res.json();\r\n\t\t\tsetGameList(result.list);\r\n\t\t}\r\n\t\tretrieveGameList();\r\n\t}, [setGameList]);\r\n\r\n\r\n\tconst handleToPlayedGame = (gameID) => {\r\n\t\tconst playedGame = window.open(`/games/${gameID}`, \"_blank\");\r\n\t\tplayedGame.focus();\r\n\t\treturn;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button fullWidth variant=\"contained\" color=\"secondary\" onClick={handleClickOpen}>\r\n\t\t\t\tPlayed games\r\n      </Button>\r\n\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth>\r\n\t\t\t\t<form >\r\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\" >Played games</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\r\n\t\t\t\t\t\t<div className={classes.demo}>\r\n\t\t\t\t\t\t\t<List dense={dense}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tgameList.length === 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" style={{ textAlign: 'center' }}>No game played</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t(gameList.map((game, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={game.ID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<HistoryIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={game.Name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// secondary={game.Player1ID === userID && game.Result === 1 ? \"You won\" : \"You lost\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton edge=\"end\" aria-label=\"delete\" onClick={() => handleToPlayedGame(game.ID)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VisibilityIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n}\r\n","D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\index.js",["133","134"],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\board.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\gameServices.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\PlayedGame\\Game\\square.js",[],"D:\\Github\\PTUDWNC_CaroOnline\\caro_app_admin\\src\\components\\GameManagement\\index.js",["135","136","137"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Container from '@material-ui/core/Container';\r\nimport { convertISOToDMY } from '../../utils/helper';\r\nimport config from '../../constants/config.json';\r\n\r\nconst API_URL = config.API_URL_TEST;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  tableContainer: {\r\n    maxHeight: '85vh',\r\n  },\r\n  tableHeader: {\r\n    fontWeight: 'bolder',\r\n    fontSize: '17px',\r\n    backgroundColor: 'lightGrey',\r\n    textAlign: 'center',\r\n    padding: '10px'\r\n  },\r\n  tableBody: {\r\n    textAlign: 'center',\r\n    fontSize: '15px',\r\n    padding: '8px'\r\n  },\r\n  shadow: {\r\n    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\r\n  },\r\n  row: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n}));\r\n\r\nexport default function GameManagement() {\r\n\r\n  const history = useHistory();\r\n  const token = window.localStorage.getItem('jwtToken');\r\n  const classes = useStyles();\r\n\r\n  const [games, setGames] = useState([]);\r\n  const [displayedGames, setDisplayedGames] = useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [nameInput, setNameInput] = useState(\"\");\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const handleToPlayedGame = (gameID) => {\r\n    const playedGame = window.open(`/games/${gameID}`, \"_blank\");\r\n    playedGame.focus();\r\n    return;\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function retrieveGames() {\r\n      const res = await fetch(`${API_URL}/management/games`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      if (res.status === 200) {\r\n        const result = await res.json();\r\n        setGames(result.games);\r\n        setDisplayedGames(result.games);\r\n      } else if (res.status === 401) {\r\n        history.push('/signIn');\r\n      } else {\r\n\r\n      }\r\n    }\r\n    retrieveGames();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (nameInput !== \"\") {\r\n      setDisplayedGames(games.slice().filter(game => game.Name.toLowerCase().includes(nameInput)));\r\n    } else {\r\n      setDisplayedGames(games);\r\n    }\r\n  }, [nameInput]);\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Paper className={`${classes.root} ${classes.shadow}`}>\r\n\r\n          <div style={{ justifyContent: 'space-between', padding: '10px' }} className={classes.row} >\r\n\r\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom style={{ padding: '10px', fontWeight: 'bold', textAlign: 'left' }}>\r\n              History of generated games\r\n            </Typography>\r\n\r\n            <div className={classes.row} style={{ alignItems: 'right', width: '30%' }}>\r\n              <SearchIcon />\r\n              <Input\r\n                style={{ marginTop: '-10px', marginRight: '20px' }}\r\n                placeholder=\"Search by game name...\"\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                onChange={(e) => { setNameInput(e.target.value.toLowerCase()) }}\r\n                fullWidth\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <TableContainer className={classes.tableContainer}>\r\n            <Table stickyHeader aria-label=\"sticky table\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell key={1} className={classes.tableHeader} style={{ width: '15%' }}> ID </TableCell>\r\n                  <TableCell key={2} className={classes.tableHeader} style={{ width: '15%' }}> Name  </TableCell>\r\n                  <TableCell key={3} className={classes.tableHeader} style={{ width: '15%' }}> Player 1 <br></br> (1) </TableCell>\r\n                  <TableCell key={4} className={classes.tableHeader} style={{ width: '15%' }}> Player 2 <br></br> (2) </TableCell>\r\n                  <TableCell key={5} className={classes.tableHeader} style={{ width: '5%' }}>  Winner </TableCell>\r\n                  <TableCell key={6} className={classes.tableHeader} style={{ width: '10%' }}> Blocked rule  </TableCell>\r\n                  <TableCell key={7} className={classes.tableHeader} style={{ width: '10%' }}> Time per turn (s) </TableCell>\r\n                  <TableCell key={8} className={classes.tableHeader} > Played at </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {\r\n                  displayedGames.length === 0 ?\r\n                    <TableRow >\r\n                      <TableCell style={{ textAlign: 'center' }} colSpan={8}>No games found</TableCell>\r\n                    </TableRow>\r\n                    :\r\n                    displayedGames.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((game, index) => {\r\n                      return (\r\n                        <TableRow key={index} title={\"Click to view game detail\"} hover style={{ cursor: 'pointer' }} onClick={() => handleToPlayedGame(game.ID)}>\r\n                          <TableCell className={classes.tableBody}> {game.ID} </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.Name} </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.Player1} </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.Player2} </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.Result === 1 ? \"(1)\" : \"(2)\"}  </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.IsBlockedRule === true ? \"Yes\" : \"No\"} </TableCell>\r\n                          <TableCell className={classes.tableBody}> {game.TimeThinkingEachTurn}  </TableCell>\r\n                          <TableCell className={classes.tableBody}> {convertISOToDMY(game.GameOverAt)} </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })\r\n                }\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination\r\n            rowsPerPageOptions={[10, 25, 100]}\r\n            component=\"div\"\r\n            count={displayedGames.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n            style={{ backgroundColor: '#f1f3f4' }}\r\n          />\r\n        </Paper>\r\n      </Container>\r\n    </>\r\n  );\r\n}",{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","severity":1,"message":"143","line":14,"column":12,"nodeType":"144","messageId":"145","endLine":14,"endColumn":27},{"ruleId":"142","severity":1,"message":"146","line":15,"column":12,"nodeType":"144","messageId":"145","endLine":15,"endColumn":23},{"ruleId":"142","severity":1,"message":"147","line":16,"column":12,"nodeType":"144","messageId":"145","endLine":16,"endColumn":27},{"ruleId":"142","severity":1,"message":"148","line":18,"column":12,"nodeType":"144","messageId":"145","endLine":18,"endColumn":17},{"ruleId":"149","severity":1,"message":"150","line":120,"column":6,"nodeType":"151","endLine":120,"endColumn":8,"suggestions":"152"},{"ruleId":"149","severity":1,"message":"153","line":139,"column":6,"nodeType":"151","endLine":139,"endColumn":17,"suggestions":"154"},{"ruleId":"149","severity":1,"message":"155","line":56,"column":6,"nodeType":"151","endLine":56,"endColumn":8,"suggestions":"156"},{"ruleId":"149","severity":1,"message":"157","line":18,"column":6,"nodeType":"151","endLine":18,"endColumn":8,"suggestions":"158"},{"ruleId":"149","severity":1,"message":"159","line":89,"column":5,"nodeType":"151","endLine":89,"endColumn":7,"suggestions":"160"},{"ruleId":"149","severity":1,"message":"161","line":99,"column":5,"nodeType":"151","endLine":99,"endColumn":28,"suggestions":"162"},{"ruleId":"142","severity":1,"message":"163","line":116,"column":10,"nodeType":"144","messageId":"145","endLine":116,"endColumn":19},{"ruleId":"142","severity":1,"message":"163","line":143,"column":10,"nodeType":"144","messageId":"145","endLine":143,"endColumn":19},{"ruleId":"149","severity":1,"message":"150","line":115,"column":5,"nodeType":"151","endLine":115,"endColumn":7,"suggestions":"164"},{"ruleId":"149","severity":1,"message":"153","line":133,"column":5,"nodeType":"151","endLine":133,"endColumn":16,"suggestions":"165"},{"ruleId":"166","severity":1,"message":"167","line":149,"column":13,"nodeType":"168","endLine":153,"endColumn":18},{"ruleId":"142","severity":1,"message":"169","line":3,"column":10,"nodeType":"144","messageId":"145","endLine":3,"endColumn":20},{"ruleId":"142","severity":1,"message":"170","line":48,"column":16,"nodeType":"144","messageId":"145","endLine":48,"endColumn":24},{"ruleId":"149","severity":1,"message":"153","line":73,"column":5,"nodeType":"151","endLine":73,"endColumn":18,"suggestions":"171"},{"ruleId":"149","severity":1,"message":"172","line":47,"column":6,"nodeType":"151","endLine":47,"endColumn":8,"suggestions":"173"},{"ruleId":"149","severity":1,"message":"174","line":88,"column":6,"nodeType":"151","endLine":88,"endColumn":67,"suggestions":"175"},{"ruleId":"142","severity":1,"message":"176","line":14,"column":8,"nodeType":"144","messageId":"145","endLine":14,"endColumn":14},{"ruleId":"149","severity":1,"message":"159","line":101,"column":6,"nodeType":"151","endLine":101,"endColumn":8,"suggestions":"177"},{"ruleId":"149","severity":1,"message":"178","line":109,"column":6,"nodeType":"151","endLine":109,"endColumn":17,"suggestions":"179"},"no-native-reassign",["180"],"no-negated-in-lhs",["181"],"no-unused-vars","'currentPassword' is assigned a value but never used.","Identifier","unusedVar","'newPassword' is assigned a value but never used.","'confirmPassword' is assigned a value but never used.","'files' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'token', and 'userID'. Either include them or remove the dependency array.","ArrayExpression",["182"],"React Hook useEffect has missing dependencies: 'token' and 'userID'. Either include them or remove the dependency array.",["183"],"React Hook useEffect has missing dependencies: 'history' and 'setIsLoggedIn'. Either include them or remove the dependency array. If 'setIsLoggedIn' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["184"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["185"],"React Hook useEffect has missing dependencies: 'history' and 'token'. Either include them or remove the dependency array.",["186"],"React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setDisplayedUsers' needs the current value of 'users'.",["187"],"'usersCopy' is assigned a value but never used.",["188"],["189"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useHistory' is defined but never used.","'setDense' is assigned a value but never used.",["190"],"React Hook useEffect has a missing dependency: 'History'. Either include it or remove the dependency array.",["191"],"React Hook useEffect has missing dependencies: 'gameID' and 'token'. Either include them or remove the dependency array.",["192"],"'Button' is defined but never used.",["193"],"React Hook useEffect has a missing dependency: 'games'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setDisplayedGames' needs the current value of 'games'.",["194"],"no-global-assign","no-unsafe-negation",{"desc":"195","fix":"196"},{"desc":"197","fix":"198"},{"desc":"199","fix":"200"},{"desc":"201","fix":"202"},{"desc":"203","fix":"204"},{"desc":"205","fix":"206"},{"desc":"195","fix":"207"},{"desc":"197","fix":"208"},{"desc":"209","fix":"210"},{"desc":"211","fix":"212"},{"desc":"213","fix":"214"},{"desc":"203","fix":"215"},{"desc":"216","fix":"217"},"Update the dependencies array to be: [history, token, userID]",{"range":"218","text":"219"},"Update the dependencies array to be: [setAvatar, token, userID]",{"range":"220","text":"221"},"Update the dependencies array to be: [history, setIsLoggedIn]",{"range":"222","text":"223"},"Update the dependencies array to be: [history]",{"range":"224","text":"225"},"Update the dependencies array to be: [history, token]",{"range":"226","text":"227"},"Update the dependencies array to be: [nameInput, emailInput, users]",{"range":"228","text":"229"},{"range":"230","text":"219"},{"range":"231","text":"221"},"Update the dependencies array to be: [setGameList, token, userID]",{"range":"232","text":"233"},"Update the dependencies array to be: [History]",{"range":"234","text":"235"},"Update the dependencies array to be: [setGame, setHistory, setChatHistory, setAvatar1, setAvatar2, token, gameID]",{"range":"236","text":"237"},{"range":"238","text":"227"},"Update the dependencies array to be: [games, nameInput]",{"range":"239","text":"240"},[3707,3709],"[history, token, userID]",[4193,4204],"[setAvatar, token, userID]",[1546,1548],"[history, setIsLoggedIn]",[562,564],"[history]",[2645,2647],"[history, token]",[3101,3124],"[nameInput, emailInput, users]",[3374,3376],[3791,3802],[2233,2246],"[setGameList, token, userID]",[1751,1753],"[History]",[3036,3097],"[setGame, setHistory, setChatHistory, setAvatar1, setAvatar2, token, gameID]",[2999,3001],[3217,3228],"[games, nameInput]"]